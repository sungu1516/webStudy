<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>주소</title>
  <link rel="stylesheet" href="./css/basic.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    $(function () {
      var $liObj = $('div.divSearchzip>ul>li');
      $liObj.click(function () {

        var zipcode = $(this).children('span.zipcode').text();
        var baseaddr = $(this).find('span.baseaddr').text();

        //값들을 메인창의 div영역에 넣기
        var mainWindow = self.opener;
        $('form.signup input.zipcode', mainWindow.document).val(zipcode);
        $('form.signup input.baseaddr', mainWindow.document).val(baseaddr);
        //현재창닫기
        self.close();
      });

      // var $btObj = $('button');

      // $btObj.click(function () {
      //   $.ajax({
      //     url: './searchzip',
      //     method: 'post',
      //     data: { addr: 'default' },
      //     success: function (reaponseData) {
      //       alert("도로명주소 검색 성공 : " + responseData);
      //     },
      //     error: function (xhr) {
      //       alert("도로명주소 검색 실패 : " + xhr.status);
      //     }
      //   });
      // });
    });
  </script>

  <style>
    /* * {
        box-sizing: border-box;
      } */
    div.divSearchzip {
      width: 400px;
    }

    div.divSearchzip>ul {
      list-style-type: none;
      padding: 10px 0px;
    }

    div.divSearchzip>ul>li {
      margin-bottom: 10px;
    }

    div.divSearchzip>ul>li:hover {
      background-color: beige;
    }
  </style>
  <!-- <script>
    window.addEventListener("load", function () {
      var liObjArr = document.querySelectorAll("div.divsearchzip>ul>li");
      liObjArr.forEach(function (e, i) {
        e.addEventListener("click", function () {
          //클릭된 현재 요소의 하위 요소 중 class속성값이 zipcode인 span값: 우편번호값 얻기
          var zipcode = this.childNodes[0].firstChild.nodeValue;

          //class속성값이 baseaddr인 span값: 기본주소값 얻기
          var baseaddr = this.childNodes[1].innerHTML;
          //값들을 메인 창의 div영역에 넣기
          var mainWindow = self.opener;
          mainWindow.document.querySelector("div>span.zipcode").innerHTML =
            zipcode;
          mainWindow.document.querySelector("div>span.baseaddr").innerHTML =
            baseaddr;

            //현재창닫기
            /*window.*/ self.close();
        });
      });
    });
  </script> -->
</head>

<body>
  <form>
    <label>도로명 주소 :
      <input type="search" placeholder="도로명주소를 입력하세요. 세종캠퍼스" /></label>
    <button>조회</button>
  </form>
  <div class="divSearchzip">
    <ul>
      <li><span class="zipcode">30019</span><span class="baseaddr">세종특별시 조치원읍 세종로 2511</span></li>
      <li><span class="zipcode">30016</span><span class="baseaddr">세종특별시 조치원읍 세종로 2639</span></li>
    </ul>
  </div>
</body>

</html>